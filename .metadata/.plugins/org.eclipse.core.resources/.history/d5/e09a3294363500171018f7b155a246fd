package acquireResource;

import java.io.IOException;
import java.io.InputStreamReader;
import java.io.LineNumberReader;

public class AcquireMemory {
	private static int memorySize;
	private static double memoryUsageRate;
	private static String CMD = "free";

	

public static int getMemorySize(String info){
	String[] data=info.split(" +");
    memorySize=Integer.parseInt(data[7]);
	return memorySize;
}
public static double geteMemoryUsageRate(String info){
	String[] data=info.split(" +");
	double total=Double.parseDouble(data[7]);
	double used=Double.parseDouble(data[8]);
	memoryUsageRate = used/total;
	return memoryUsageRate;
}

	public static void main(String[] args) {
		String info = Runcommand.runCommand(CMD);
		System.out.println(info);
		System.out.println("内存大小："+getMemorySize(info));
		System.out.println("内存使用率："+geteMemoryUsageRate(info));
	}

}
